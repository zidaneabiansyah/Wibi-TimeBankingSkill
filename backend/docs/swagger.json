{
    "swagger": "2.0",
    "info": {
        "description": "This is the backend server for Wibi Time Banking Skill Platform.",
        "title": "Wibi Time Banking Skill API",
        "termsOfService": "http://swagger.io/terms/",
        "contact": {
            "name": "OwlDane",
            "url": "https://github.com/OwlDane",
            "email": "support@wibi.com"
        },
        "license": {
            "name": "Apache 2.0",
            "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
        },
        "version": "1.0"
    },
    "host": "localhost:8080",
    "basePath": "/api/v1",
    "paths": {
        "/api/v1/favorites": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "tags": [
                    "favorites"
                ],
                "summary": "Get user's favorite teachers",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Limit",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Offset",
                        "name": "offset",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/utils.SuccessResponse"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "tags": [
                    "favorites"
                ],
                "summary": "Add a teacher to favorites",
                "parameters": [
                    {
                        "description": "Teacher ID",
                        "name": "teacher_id",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/utils.SuccessResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/favorites/check/{id}": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "tags": [
                    "favorites"
                ],
                "summary": "Check if a teacher is favorited",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Teacher ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/utils.SuccessResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/favorites/{id}": {
            "delete": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "tags": [
                    "favorites"
                ],
                "summary": "Remove a teacher from favorites",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Teacher ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/utils.SuccessResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/templates": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "tags": [
                    "templates"
                ],
                "summary": "Get all user's session templates",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/utils.SuccessResponse"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "tags": [
                    "templates"
                ],
                "summary": "Create a session template",
                "parameters": [
                    {
                        "description": "Template",
                        "name": "template",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.SessionTemplate"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/utils.SuccessResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/templates/{id}": {
            "put": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "tags": [
                    "templates"
                ],
                "summary": "Update a session template",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Template ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Template",
                        "name": "template",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.SessionTemplate"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/utils.SuccessResponse"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "tags": [
                    "templates"
                ],
                "summary": "Delete a session template",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Template ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/utils.SuccessResponse"
                        }
                    }
                }
            }
        },
        "/skills": {
            "get": {
                "description": "Get a list of skills with pagination, search, category, rating, and location filters.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "skills"
                ],
                "summary": "List all skills with filters",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Limit (default 10)",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Page (default 1)",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Category filter",
                        "name": "category",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Search query",
                        "name": "search",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Available day filter (0-6)",
                        "name": "day",
                        "in": "query"
                    },
                    {
                        "type": "number",
                        "description": "Minimum rating filter",
                        "name": "rating",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Location filter",
                        "name": "location",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Sort by (popular, rating, newest)",
                        "name": "sort",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/utils.SuccessResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/utils.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/skills/{id}": {
            "get": {
                "description": "Get detailed information about a specific skill.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "skills"
                ],
                "summary": "Get skill by ID",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Skill ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/utils.SuccessResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/utils.ErrorResponse"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "models.Badge": {
            "type": "object",
            "properties": {
                "bonus_credits": {
                    "description": "Reward",
                    "type": "number"
                },
                "color": {
                    "description": "Display",
                    "type": "string"
                },
                "created_at": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "display_order": {
                    "type": "integer"
                },
                "icon": {
                    "description": "Icon URL or emoji",
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "is_active": {
                    "type": "boolean"
                },
                "name": {
                    "description": "Badge Info",
                    "type": "string"
                },
                "rarity": {
                    "description": "Rarity",
                    "type": "integer"
                },
                "requirements": {
                    "description": "Requirements (stored as JSON for flexibility)",
                    "type": "string"
                },
                "total_awarded": {
                    "description": "Stats",
                    "type": "integer"
                },
                "total_earned": {
                    "description": "Alias for total_awarded for frontend consistency",
                    "type": "integer"
                },
                "type": {
                    "$ref": "#/definitions/models.BadgeType"
                },
                "updated_at": {
                    "type": "string"
                }
            }
        },
        "models.BadgeType": {
            "type": "string",
            "enum": [
                "achievement",
                "milestone",
                "quality",
                "special"
            ],
            "x-enum-comments": {
                "BadgeTypeAchievement": "General achievements",
                "BadgeTypeMilestone": "Session/credit milestones",
                "BadgeTypeQuality": "Quality-based (ratings)",
                "BadgeTypeSpecial": "Special events, early adopter"
            },
            "x-enum-descriptions": [
                "General achievements",
                "Session/credit milestones",
                "Quality-based (ratings)",
                "Special events, early adopter"
            ],
            "x-enum-varnames": [
                "BadgeTypeAchievement",
                "BadgeTypeMilestone",
                "BadgeTypeQuality",
                "BadgeTypeSpecial"
            ]
        },
        "models.LearningSkill": {
            "type": "object",
            "properties": {
                "created_at": {
                    "type": "string"
                },
                "desired_level": {
                    "$ref": "#/definitions/models.SkillLevel"
                },
                "id": {
                    "type": "integer"
                },
                "notes": {
                    "type": "string"
                },
                "priority": {
                    "description": "1-5, higher = more urgent",
                    "type": "integer"
                },
                "skill": {
                    "$ref": "#/definitions/models.Skill"
                },
                "skill_id": {
                    "type": "integer"
                },
                "updated_at": {
                    "type": "string"
                },
                "user": {
                    "description": "Relationships",
                    "allOf": [
                        {
                            "$ref": "#/definitions/models.User"
                        }
                    ]
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "models.SessionMode": {
            "type": "string",
            "enum": [
                "online",
                "offline",
                "hybrid"
            ],
            "x-enum-varnames": [
                "ModeOnline",
                "ModeOffline",
                "ModeHybrid"
            ]
        },
        "models.SessionTemplate": {
            "type": "object",
            "properties": {
                "created_at": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "duration": {
                    "description": "In hours",
                    "type": "number"
                },
                "id": {
                    "type": "integer"
                },
                "location": {
                    "type": "string"
                },
                "meeting_link": {
                    "type": "string"
                },
                "mode": {
                    "$ref": "#/definitions/models.SessionMode"
                },
                "title": {
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                },
                "user": {
                    "description": "Relationships",
                    "allOf": [
                        {
                            "$ref": "#/definitions/models.User"
                        }
                    ]
                },
                "user_id": {
                    "description": "The teacher who owns the template",
                    "type": "integer"
                },
                "user_skill": {
                    "$ref": "#/definitions/models.UserSkill"
                },
                "user_skill_id": {
                    "type": "integer"
                }
            }
        },
        "models.Skill": {
            "type": "object",
            "properties": {
                "category": {
                    "$ref": "#/definitions/models.SkillCategory"
                },
                "created_at": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "icon": {
                    "description": "Icon URL or emoji",
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "max_rate": {
                    "type": "number"
                },
                "max_teacher_rating": {
                    "type": "number"
                },
                "min_rate": {
                    "type": "number"
                },
                "name": {
                    "description": "e.g., \"Calculus\"",
                    "type": "string"
                },
                "total_learners": {
                    "type": "integer"
                },
                "total_sessions": {
                    "type": "integer"
                },
                "total_teachers": {
                    "description": "Stats",
                    "type": "integer"
                },
                "updated_at": {
                    "type": "string"
                }
            }
        },
        "models.SkillCategory": {
            "type": "string",
            "enum": [
                "academic",
                "technical",
                "creative",
                "language",
                "sports",
                "other"
            ],
            "x-enum-comments": {
                "CategoryAcademic": "Matematika, Fisika, etc",
                "CategoryCreative": "Music, Art, etc",
                "CategoryLanguage": "English, Japanese, etc",
                "CategoryOther": "Miscellaneous",
                "CategorySports": "Basketball, Swimming, etc",
                "CategoryTechnical": "Coding, Design, etc"
            },
            "x-enum-descriptions": [
                "Matematika, Fisika, etc",
                "Coding, Design, etc",
                "Music, Art, etc",
                "English, Japanese, etc",
                "Basketball, Swimming, etc",
                "Miscellaneous"
            ],
            "x-enum-varnames": [
                "CategoryAcademic",
                "CategoryTechnical",
                "CategoryCreative",
                "CategoryLanguage",
                "CategorySports",
                "CategoryOther"
            ]
        },
        "models.SkillLevel": {
            "type": "string",
            "enum": [
                "beginner",
                "intermediate",
                "advanced",
                "expert"
            ],
            "x-enum-varnames": [
                "LevelBeginner",
                "LevelIntermediate",
                "LevelAdvanced",
                "LevelExpert"
            ]
        },
        "models.User": {
            "type": "object",
            "properties": {
                "avatar": {
                    "type": "string"
                },
                "average_rating_as_student": {
                    "type": "number"
                },
                "average_rating_as_teacher": {
                    "type": "number"
                },
                "badges": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/models.UserBadge"
                    }
                },
                "bio": {
                    "type": "string"
                },
                "created_at": {
                    "type": "string"
                },
                "credit_balance": {
                    "description": "Time Banking",
                    "type": "number"
                },
                "credit_held": {
                    "type": "number"
                },
                "email": {
                    "description": "Basic Info",
                    "type": "string"
                },
                "full_name": {
                    "type": "string"
                },
                "grade": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "is_active": {
                    "description": "Account Status",
                    "type": "boolean"
                },
                "is_verified": {
                    "type": "boolean"
                },
                "learning_skills": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/models.LearningSkill"
                    }
                },
                "location": {
                    "type": "string"
                },
                "major": {
                    "type": "string"
                },
                "phone_number": {
                    "type": "string"
                },
                "school": {
                    "description": "Profile Info",
                    "type": "string"
                },
                "teaching_skills": {
                    "description": "Relationships",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/models.UserSkill"
                    }
                },
                "total_earned": {
                    "type": "number"
                },
                "total_sessions_as_student": {
                    "type": "integer"
                },
                "total_sessions_as_teacher": {
                    "description": "Stats",
                    "type": "integer"
                },
                "total_spent": {
                    "type": "number"
                },
                "updated_at": {
                    "type": "string"
                },
                "username": {
                    "type": "string"
                }
            }
        },
        "models.UserBadge": {
            "type": "object",
            "properties": {
                "badge": {
                    "$ref": "#/definitions/models.Badge"
                },
                "badge_id": {
                    "type": "integer"
                },
                "created_at": {
                    "type": "string"
                },
                "earned_at": {
                    "description": "When earned",
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "is_pinned": {
                    "description": "Display",
                    "type": "boolean"
                },
                "progress": {
                    "description": "Progress tracking (for progressive badges)",
                    "type": "integer"
                },
                "progress_goal": {
                    "description": "Goal to achieve",
                    "type": "integer"
                },
                "updated_at": {
                    "type": "string"
                },
                "user": {
                    "description": "Relationships",
                    "allOf": [
                        {
                            "$ref": "#/definitions/models.User"
                        }
                    ]
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "models.UserSkill": {
            "type": "object",
            "properties": {
                "average_rating": {
                    "type": "number"
                },
                "created_at": {
                    "type": "string"
                },
                "description": {
                    "description": "What specifically can they teach",
                    "type": "string"
                },
                "hourly_rate": {
                    "description": "Usually 1:1, but can be adjusted",
                    "type": "number"
                },
                "id": {
                    "type": "integer"
                },
                "is_available": {
                    "description": "Availability",
                    "type": "boolean"
                },
                "level": {
                    "description": "Skill Details",
                    "allOf": [
                        {
                            "$ref": "#/definitions/models.SkillLevel"
                        }
                    ]
                },
                "offline_only": {
                    "type": "boolean"
                },
                "online_only": {
                    "description": "Teaching Preferences",
                    "type": "boolean"
                },
                "proof_type": {
                    "description": "\"certificate\", \"portfolio\", \"project\"",
                    "type": "string"
                },
                "proof_url": {
                    "description": "Proof/Portfolio",
                    "type": "string"
                },
                "skill": {
                    "$ref": "#/definitions/models.Skill"
                },
                "skill_id": {
                    "type": "integer"
                },
                "total_reviews": {
                    "type": "integer"
                },
                "total_sessions": {
                    "description": "Stats",
                    "type": "integer"
                },
                "updated_at": {
                    "type": "string"
                },
                "user": {
                    "description": "Relationships",
                    "allOf": [
                        {
                            "$ref": "#/definitions/models.User"
                        }
                    ]
                },
                "user_id": {
                    "type": "integer"
                },
                "years_of_experience": {
                    "type": "integer"
                }
            }
        },
        "utils.ErrorResponse": {
            "type": "object",
            "properties": {
                "error": {
                    "type": "string"
                },
                "message": {
                    "type": "string"
                },
                "success": {
                    "type": "boolean"
                }
            }
        },
        "utils.SuccessResponse": {
            "type": "object",
            "properties": {
                "data": {},
                "message": {
                    "type": "string"
                },
                "success": {
                    "type": "boolean"
                }
            }
        }
    },
    "securityDefinitions": {
        "Bearer": {
            "description": "Type \"Bearer \u003cyour_token\u003e\" to authenticate.",
            "type": "apiKey",
            "name": "Authorization",
            "in": "header"
        }
    }
}